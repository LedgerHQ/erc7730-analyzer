# ðŸ”´ Critical Issues Report

**Generated:** 2025-10-28 10:59:10

**Contract ID:** WETH

**Chain IDs:** 1, 11155111

---

## Critical Issues Summary

| Function | Selector | Status | Link |
|----------|----------|--------|------|
| `deposit` | `0xd0e30db0` | ðŸ”´ Missing display of native ETH amount (msg.value). deposit() is payable and users... | [View](#critical-d0e30db0) |

---

## ðŸ“‹ Detailed Analysis

Found **1 function(s)** with critical issues that require immediate attention.

---

## <a id="critical-d0e30db0"></a> ðŸ”´ deposit()

**Selector:** `0xd0e30db0`

**Contract Address:** `0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2` | **Chain ID:** 1

<details>
<summary><b>ðŸ“‹ ERC-7730 Format Definition</b></summary>

```json
{
  "format": {
    "intent": "Wrap",
    "fields": []
  }
}
```

</details>

### ðŸ”´ Critical Issues

1. Missing display of native ETH amount (msg.value). deposit() is payable and users send ETH, but the ERC-7730 format has no fields to show the incoming ETH. Without a field (e.g., path "@.value" or a tokenAmount with nativeCurrencyAddress) the display cannot show the actual amount the user is sending â€” this is critical.

### ðŸ’¡ Recommendations

1. Add a field that shows msg.value. Example fixes:
2. Simple: {"path":"@.value","label":"Amount","format":"amount"}
3. Token-aware: {"path":"@.value","label":"Amount","$ref":"$.display.definitions.tokenAmount","params":{"nativeCurrencyAddress":["$.metadata.constants.addressAsEth"]}}
4. Optionally show the received token (WETH) to make intent "Wrap" explicit (constant token address in metadata), but the missing msg.value is the blocker.
5. ---

---

